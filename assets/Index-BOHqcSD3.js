import{b as h}from"./sign-BLvdy9Rk.js";import{i as p,p as x}from"./index-DqFQ5e75.js";import{b as C,u as U}from"./vue-router-Di1CRR72.js";import{E as q}from"./element-plus-ClT9ND06.js";import{d as R,aA as T,Z as I,q as $,o as B,O as E,P as s,V as t,T as u,U as d,u as N,ai as n}from"./@vue-BL6WjEgc.js";import"./@vueuse-D2azi8Wr.js";import"./axios-CCb-kr4I.js";import"./pinia-CaU9RLb4.js";import"./vue-i18n-BPnRIkwB.js";import"./@intlify-DqB41OTx.js";import"./sortablejs-Cw1ESr5Y.js";import"./@element-plus-C-Z9JL_H.js";import"./color-Dhq0Q_AS.js";import"./color-string-CKWVXYG4.js";import"./color-name-BQ5IbGbl.js";import"./simple-swizzle-Tvclth0e.js";import"./color-convert-CkRI355n.js";import"./mockjs-DimkVF-k.js";import"./nprogress-CFoLm_ff.js";import"./lodash-es-1chB_st9.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BwlS6atb.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DVIT0l11.js";const ae=R({__name:"Index",setup(z){const c=C(),f=U(),i=T("dom"),o=I({username:"admin",password:"admin"}),_=$(()=>({username:[{required:!0,message:p.t("common.please-input"),trigger:"blur"}],password:[{required:!0,message:p.t("common.please-input"),trigger:"blur"}]})),{execute:g,loading:k}=h(),w=()=>{i.value&&i.value.validate().then(V)},V=()=>{g(o).then(({data:r})=>{q.success(p.t("/sign-in.login-success")),x(r);const e=c.query.redirect;f.push(e?decodeURIComponent(e):"/")})};return(r,e)=>{const a=n("el-input"),l=n("el-form-item"),b=n("el-button"),v=n("el-link"),y=n("el-form");return B(),E(y,{ref_key:"dom",ref:i,model:o,rules:_.value},{default:s(()=>[t(l,{prop:"username"},{default:s(()=>[t(a,{modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=m=>o.username=m),"prefix-icon":"User",placeholder:"请输入admin或guest"},null,8,["modelValue"])]),_:1}),t(l,{prop:"password"},{default:s(()=>[t(a,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=m=>o.password=m),"show-password":"","prefix-icon":"Lock",placeholder:r.$t("common.please-input")},null,8,["modelValue","placeholder"])]),_:1}),t(b,{loading:N(k),type:"primary",class:"w-full",onClick:w},{default:s(()=>[u(d(r.$t("/sign-in.login")),1)]),_:1},8,["loading"]),t(v,{href:"#/sign-up",style:{"--el-link-font-size":"12px"}},{default:s(()=>[u(d(r.$t("/sign-in.to-register")),1)]),_:1})]),_:1},8,["model","rules"])}}});export{ae as default};
