import{a as y}from"./sign-BLvdy9Rk.js";import{i as a}from"./index-DqFQ5e75.js";import{u as U}from"./vue-router-Di1CRR72.js";import{E as x}from"./element-plus-ClT9ND06.js";import{d as b,aA as k,Z as q,q as C,o as z,O as A,P as p,V as s,T as u,U as d,u as T,ai as n}from"./@vue-BL6WjEgc.js";import"./@vueuse-D2azi8Wr.js";import"./axios-CCb-kr4I.js";import"./pinia-CaU9RLb4.js";import"./vue-i18n-BPnRIkwB.js";import"./@intlify-DqB41OTx.js";import"./sortablejs-Cw1ESr5Y.js";import"./@element-plus-C-Z9JL_H.js";import"./color-Dhq0Q_AS.js";import"./color-string-CKWVXYG4.js";import"./color-name-BQ5IbGbl.js";import"./simple-swizzle-Tvclth0e.js";import"./color-convert-CkRI355n.js";import"./mockjs-DimkVF-k.js";import"./nprogress-CFoLm_ff.js";import"./lodash-es-1chB_st9.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BwlS6atb.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DVIT0l11.js";const ie=b({__name:"Index",setup(Z){const f=U(),l=k("dom"),r=q({username:"",password1:"",password2:""}),g=C(()=>({username:[{required:!0,message:a.t("common.please-input"),trigger:"blur"},{validator:(t,e,o)=>{(e.length<6||e.length>32)&&o("账号长度最小6位，最大32位"),/[A-Za-z0-9]{6,32}/.test(e)||o("账号由英文字母和数字组成"),o()},trigger:"blur"}],password1:[{required:!0,message:a.t("common.please-input"),trigger:"blur"},{validator:(t,e,o)=>{(e.length<6||e.length>32)&&o("密码长度最小6位，最大32位"),/[A-Za-z0-9!@#$%^&*]{6,32}/.test(e)||o("密码由大小写字母、数字和特殊符号!@#$%^&*组成"),o()},trigger:"blur"}],password2:[{required:!0,message:a.t("common.please-input"),trigger:"blur"},{validator:(t,e,o)=>{r.password1!==e&&o("两次密码不一致"),o()},trigger:"blur"}]})),{execute:c,loading:_}=y(),w=()=>{l.value&&l.value.validate().then(h)},h=()=>{c(r).then(()=>{x.success("账号注册成功"),f.push("/sign-in")})};return(t,e)=>{const o=n("el-input"),m=n("el-form-item"),V=n("el-button"),$=n("el-link"),v=n("el-form");return z(),A(v,{ref_key:"dom",ref:l,model:r,rules:g.value},{default:p(()=>[s(m,{prop:"username"},{default:p(()=>[s(o,{modelValue:r.username,"onUpdate:modelValue":e[0]||(e[0]=i=>r.username=i),"prefix-icon":"User",placeholder:t.$t("common.please-input")},null,8,["modelValue","placeholder"])]),_:1}),s(m,{prop:"password1"},{default:p(()=>[s(o,{modelValue:r.password1,"onUpdate:modelValue":e[1]||(e[1]=i=>r.password1=i),"show-password":"","prefix-icon":"Lock",placeholder:t.$t("common.please-input")},null,8,["modelValue","placeholder"])]),_:1}),s(m,{prop:"password2"},{default:p(()=>[s(o,{modelValue:r.password2,"onUpdate:modelValue":e[2]||(e[2]=i=>r.password2=i),"show-password":"","prefix-icon":"Lock",placeholder:t.$t("common.please-input")},null,8,["modelValue","placeholder"])]),_:1}),s(V,{loading:T(_),type:"primary",class:"w-full",onClick:w},{default:p(()=>[u(d(t.$t("/sign-up.register")),1)]),_:1},8,["loading"]),s($,{href:"#/sign-in",style:{"--el-link-font-size":"12px"}},{default:p(()=>[u(d(t.$t("/sign-up.to-login")),1)]),_:1})]),_:1},8,["model","rules"])}}});export{ie as default};
