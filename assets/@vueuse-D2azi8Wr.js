import{b as j,n as _,i as q,r as p,g as b,e as z,p as A,u as N,t as P,f as V,h as H,j as B,k as D,l as U,w as E,m as G,q as w}from"./@vue-BL6WjEgc.js";function F(e){return D()?(U(e),!0):!1}const g=new WeakMap,Q=(...e)=>{var n;const t=e[0],r=(n=b())==null?void 0:n.proxy;if(r==null)throw new Error("injectLocal must be called in setup");return g.has(r)&&t in g.get(r)?g.get(r)[t]:z(...e)},Y=(e,n)=>{var t;const r=(t=b())==null?void 0:t.proxy;if(r==null)throw new Error("provideLocal must be called in setup");g.has(r)||g.set(r,Object.create(null));const u=g.get(r);u[e]=n,A(e,n)};function re(e,n){const t=Symbol(e.name||"InjectionState"),r=void 0;return[(...a)=>{const o=e(...a);return Y(t,o),o},()=>Q(t,r)]}function h(e){return typeof e=="function"?e():N(e)}const R=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const $=e=>e!=null,J=Object.prototype.toString,K=e=>J.call(e)==="[object Object]",W=()=>{};function x(e){return b()}function X(...e){if(e.length!==1)return P(...e);const n=e[0];return typeof n=="function"?V(H(()=>({get:n,set:W}))):p(n)}function Z(e,n){x()&&B(e,n)}function ee(e,n=!0,t){x()?j(e,t):n?e():_(e)}function ie(e=!1,n={}){const{truthyValue:t=!0,falsyValue:r=!1}=n,u=q(e),l=p(e);function a(o){if(arguments.length)return l.value=o,l.value;{const s=h(t);return l.value=l.value===s?h(r):s,l.value}}return u?a:[l,a]}const k=R?window:void 0,T=R?window.document:void 0;function S(e){var n;const t=h(e);return(n=t==null?void 0:t.$el)!=null?n:t}function M(...e){let n,t,r,u;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,r,u]=e,n=k):[n,t,r,u]=e,!n)return W;Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]);const l=[],a=()=>{l.forEach(d=>d()),l.length=0},o=(d,c,f,m)=>(d.addEventListener(c,f,m),()=>d.removeEventListener(c,f,m)),s=E(()=>[S(n),h(u)],([d,c])=>{if(a(),!d)return;const f=K(c)?{...c}:c;l.push(...t.flatMap(m=>r.map(y=>o(d,m,y,f))))},{immediate:!0,flush:"post"}),v=()=>{s(),a()};return F(v),v}function te(){const e=p(!1),n=b();return n&&j(()=>{e.value=!0},n),e}function I(e){const n=te();return w(()=>(n.value,!!e()))}function ne(e,n,t={}){const{window:r=k,...u}=t;let l;const a=I(()=>r&&"MutationObserver"in r),o=()=>{l&&(l.disconnect(),l=void 0)},s=w(()=>{const f=h(e),m=(Array.isArray(f)?f:[f]).map(S).filter($);return new Set(m)}),v=E(()=>s.value,f=>{o(),a.value&&f.size&&(l=new MutationObserver(n),f.forEach(m=>l.observe(m,u)))},{immediate:!0,flush:"post"}),d=()=>l==null?void 0:l.takeRecords(),c=()=>{v(),o()};return F(c),{isSupported:a,stop:c,takeRecords:d}}function le(e,n={}){const{window:t=k}=n,r=I(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function");let u;const l=p(!1),a=v=>{l.value=v.matches},o=()=>{u&&("removeEventListener"in u?u.removeEventListener("change",a):u.removeListener(a))},s=G(()=>{r.value&&(o(),u=t.matchMedia(h(e)),"addEventListener"in u?u.addEventListener("change",a):u.addListener(a),l.value=u.matches)});return F(()=>{s(),o(),u=void 0}),l}const O=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function oe(e,n={}){const{document:t=T,autoExit:r=!1}=n,u=w(()=>{var i;return(i=S(e))!=null?i:t==null?void 0:t.querySelector("html")}),l=p(!1),a=w(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(i=>t&&i in t||u.value&&i in u.value)),o=w(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(i=>t&&i in t||u.value&&i in u.value)),s=w(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(i=>t&&i in t||u.value&&i in u.value)),v=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(i=>t&&i in t),d=I(()=>u.value&&t&&a.value!==void 0&&o.value!==void 0&&s.value!==void 0),c=()=>v?(t==null?void 0:t[v])===u.value:!1,f=()=>{if(s.value){if(t&&t[s.value]!=null)return t[s.value];{const i=u.value;if((i==null?void 0:i[s.value])!=null)return!!i[s.value]}}return!1};async function m(){if(!(!d.value||!l.value)){if(o.value)if((t==null?void 0:t[o.value])!=null)await t[o.value]();else{const i=u.value;(i==null?void 0:i[o.value])!=null&&await i[o.value]()}l.value=!1}}async function y(){if(!d.value||l.value)return;f()&&await m();const i=u.value;a.value&&(i==null?void 0:i[a.value])!=null&&(await i[a.value](),l.value=!0)}async function C(){await(l.value?m():y())}const L=()=>{const i=f();(!i||i&&c())&&(l.value=i)};return M(t,O,L,!1),M(()=>S(u),O,L,!1),r&&F(m),{isSupported:d,isFullscreen:l,enter:y,exit:m,toggle:C}}function se(e=null,n={}){var t,r,u;const{document:l=T,restoreOnUnmount:a=c=>c}=n,o=(t=l==null?void 0:l.title)!=null?t:"",s=X((r=e??(l==null?void 0:l.title))!=null?r:null),v=e&&typeof e=="function";function d(c){if(!("titleTemplate"in n))return c;const f=n.titleTemplate||"%s";return typeof f=="function"?f(c):h(f).replace(/%s/g,c)}return E(s,(c,f)=>{c!==f&&l&&(l.title=d(typeof c=="string"?c:""))},{immediate:!0}),n.observe&&!n.titleTemplate&&l&&!v&&ne((u=l.head)==null?void 0:u.querySelector("title"),()=>{l&&l.title!==s.value&&(s.value=d(l.title))},{childList:!0}),Z(()=>{if(a){const c=a(o,s.value||"");c!=null&&l&&(l.title=c)}}),s}function ae(e={}){const{window:n=k,initialWidth:t=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:u=!0,includeScrollbar:l=!0,type:a="inner"}=e,o=p(t),s=p(r),v=()=>{n&&(a==="outer"?(o.value=n.outerWidth,s.value=n.outerHeight):l?(o.value=n.innerWidth,s.value=n.innerHeight):(o.value=n.document.documentElement.clientWidth,s.value=n.document.documentElement.clientHeight))};if(v(),ee(v),M("resize",v,{passive:!0}),u){const d=le("(orientation: portrait)");E(d,()=>v())}return{width:o,height:s}}export{oe as a,ie as b,re as c,se as d,ae as e,le as u};
