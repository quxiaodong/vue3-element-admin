import{u as V,g as B,s as q,a as Y,_ as G,b as ce,i as U,r as ee,c as ie,t as _e,m as O,d as ue,e as me,f as de,h as pe,j as fe,l as X,k as Z,n as ve,w as he,o as ge}from"./index-DqFQ5e75.js";import{q as we,p as be,n as xe,R as $e}from"./@element-plus-C-Z9JL_H.js";import{e as ye}from"./@vueuse-D2azi8Wr.js";import{r as S,q as k,d as f,o as c,c as w,V as e,u as t,ai as n,O as d,P as s,I as ke,a as h,R as T,S as L,U as $,F as M,a8 as W,T as y,ah as Ce,aA as Ve,X as Me,J as Se,K as ze}from"./@vue-BL6WjEgc.js";import{_ as Le}from"./element-plus-logo-DBEToQFO.js";import{u as R,b as oe}from"./vue-router-Di1CRR72.js";import{s as te}from"./sign-BLvdy9Rk.js";import{E as ne}from"./element-plus-ClT9ND06.js";import"./axios-CCb-kr4I.js";import"./pinia-CaU9RLb4.js";import"./vue-i18n-BPnRIkwB.js";import"./@intlify-DqB41OTx.js";import"./sortablejs-Cw1ESr5Y.js";import"./color-Dhq0Q_AS.js";import"./color-string-CKWVXYG4.js";import"./color-name-BQ5IbGbl.js";import"./simple-swizzle-Tvclth0e.js";import"./color-convert-CkRI355n.js";import"./mockjs-DimkVF-k.js";import"./nprogress-CFoLm_ff.js";import"./lodash-es-1chB_st9.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BwlS6atb.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DVIT0l11.js";const{isMobile:J}=V(),{width:Q}=ye(),I=S(B("asideCollapse")??!!J.value),E=i=>{const r=i??!I.value;J.value||q("asideCollapse",r),I.value=r},F=S(B("asideVisible")??!0),Ie=i=>{const r=!F.value;q("asideVisible",r),F.value=r},le=S(208),Ae=k(()=>J.value?Q.value:Math.ceil(Q.value*.5)),N=S(B("asideWidth")??le.value),De=i=>{q("asideWidth",i),N.value=i},Ee={class:"px-3 py-2"},We=f({__name:"Collapse",setup(i){const r=k(()=>I.value?we:be);return(a,l)=>{const o=n("el-button");return c(),w("div",Ee,[e(o,{icon:r.value,type:"primary",class:"w-full !border-0",onClick:l[0]||(l[0]=_=>t(E)())},null,8,["icon"])])}}}),Ue=f({__name:"Drawer",setup(i){const{isMobile:r}=V(),a=k(()=>r.value&&!I.value);return(l,o)=>{const _=n("el-drawer");return c(),d(_,{"model-value":a.value,"show-close":!1,"with-header":!1,direction:"ltr",size:t(N),style:{"--el-drawer-padding-primary":"0"},onOpen:o[0]||(o[0]=u=>t(E)(!1)),onClose:o[1]||(o[1]=u=>t(E)(!0))},{default:s(()=>[ke(l.$slots,"default")]),_:3},8,["model-value","size"])}}}),Be="data:image/svg+xml,%3csvg%20id='图层_1'%20data-name='图层%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2044%2044'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23409eff;fill-rule:evenodd;}%3c/style%3e%3c/defs%3e%3ctitle%3eelement%20plus-logo-small%20副本%3c/title%3e%3cpath%20id='element_plus-logo-small'%20data-name='element%20plus-logo-small'%20class='cls-1'%20d='M37.41,32.37c0,1.57-.83,1.93-.83,1.93L21.51,43A1.69,1.69,0,0,1,20,43S5.2,34.4,4.66,34a1.29,1.29,0,0,1-.55-1V15.24c0-.78,1-1.33,1-1.33L19.86,5.36a2,2,0,0,1,1.79,0l14.46,8.41a2.06,2.06,0,0,1,1.25,2.06V32.37Zm-5.9-17L21.35,9.5a1.59,1.59,0,0,0-1.41,0L8.33,16.15s-.77.46-.76,1.08,0,13.92,0,13.92A1,1,0,0,0,8,31.9c.43.3,12,7,12,7a1.31,1.31,0,0,0,1.19,0C21.91,38.5,33,32.11,33,32.11s.65-.28.65-1.51V27.13l-13,7.9V32a3.05,3.05,0,0,1,1-2.07L33.2,23a2.44,2.44,0,0,0,.55-1.46V18.43L20.64,26.35v-3.2a2.22,2.22,0,0,1,.83-1.79ZM41.07,4.22a.39.39,0,0,0-.37-.42H38V1.06c0-.16-.26-.22-.53-.22L36,1.08c-.18,0-.31.12-.31.23V3.8H33a.4.4,0,0,0-.36.37v2h3V9c0,.16.26.27.54.23l1.51-.25c.18,0,.29-.13.29-.23V6.14h3Z'/%3e%3c/svg%3e",Te={class:"h-14 relative z-10 flex items-center justify-center"},je=["src"],qe=f({__name:"Logo",setup(i){const r=R(),{isMobile:a}=V(),l=k(()=>I.value?Be:Le),o=()=>{a.value&&E(),r.push("/")};return(_,u)=>(c(),w("div",Te,[h("img",{src:l.value,class:"h-8 cursor-pointer",onClick:o},null,8,je)]))}}),Re=f({__name:"SubMenu",props:{prefix:{},menu:{}},setup(i){const{path:r,meta:a,children:l}=i.menu,o=k(()=>i.prefix?i.prefix+(r?"/"+r:""):r);return(_,u)=>{var A,b;const m=n("el-icon"),p=n("SubMenu",!0),g=n("el-sub-menu"),C=n("el-menu-item");return t(l)&&t(l).length&&!((A=t(a))!=null&&A.hideInMenu)?(c(),d(g,{key:0,index:o.value},{title:s(()=>{var v,x,D;return[(v=t(a))!=null&&v.icon?(c(),d(m,{key:0},{default:s(()=>[(c(),d(T(t(a).icon)))]),_:1})):L("",!0),h("span",null,$((x=t(a))!=null&&x.i18n?_.$t(t(a).i18n):(D=t(a))==null?void 0:D.breadcrumb),1)]}),default:s(()=>[(c(!0),w(M,null,W(t(l),v=>(c(),d(p,{key:v.path,menu:v,prefix:o.value},null,8,["menu","prefix"]))),128))]),_:1},8,["index"])):(b=t(a))!=null&&b.hideInMenu?L("",!0):(c(),d(C,{key:1,index:o.value},{default:s(()=>{var v,x;return[y($((v=t(a))!=null&&v.i18n?_.$t(t(a).i18n):(x=t(a))==null?void 0:x.breadcrumb),1)]}),_:1},8,["index"]))}}}),Ne=f({__name:"Menu",setup(i){const r=oe(),a=Y(),{isMobile:l}=V(),o=k(()=>l.value?!1:I.value),_=()=>{l.value&&E()};return(u,m)=>{const p=n("el-menu");return c(),d(p,{router:"",collapse:o.value,"collapse-transition":!1,"default-active":t(r).path,class:"!border-r-0 select-none",onSelect:_},{default:s(()=>[(c(!0),w(M,null,W(t(a).menus,g=>(c(),d(Re,{key:g.path,menu:g,prefix:""},null,8,["menu"]))),128))]),_:1},8,["collapse","default-active"])}}}),Oe=G(Ne,[["__scopeId","data-v-2346b5f1"]]),Ze={class:"flex flex-col h-screen relative z-20"},Fe={class:"grow"},He=f({__name:"Index",setup(i){const r=f({setup(o,{slots:_}){return()=>Ce("div",{class:"page-container"},_)}}),{isMobile:a}=V(),l=k(()=>a.value?Ue:r);return(o,_)=>{const u=n("ElDivider"),m=n("el-scrollbar");return c(),d(T(l.value),null,{default:s(()=>[h("div",Ze,[e(qe),e(u,{class:"!my-0"}),h("div",Fe,[e(m,null,{default:s(()=>[e(Oe)]),_:1})]),e(We)])]),_:1})}}}),Pe=f({__name:"ToggleAside",setup(i){const{isMobile:r}=V(),a=()=>{r.value?E():Ie()};return(l,o)=>(c(),w("div",{class:"placeholder",onClick:a},o[0]||(o[0]=[h("svg",{width:"18",height:"18",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1.6"},[h("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),h("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),h("line",{x1:"4",x2:"20",y1:"18",y2:"18"})],-1)])))}}),H=S(!1),j=i=>{H.value=i??!H.value},Ge=f({__name:"ToggleSetting",setup(i){return(r,a)=>{const l=n("Setting"),o=n("el-icon");return c(),w("div",{class:"placeholder",onClick:a[0]||(a[0]=_=>t(j)(!0))},[e(o,{size:18},{default:s(()=>[e(l)]),_:1})])}}}),Je={class:"text-right"},Ke=f({__name:"Password",setup(i){const r={password:"",password1:"",password2:""},a=R(),l=Ve("dom"),o=S(r),_=k(()=>({password:[{required:!0,message:U.t("common.please-input"),trigger:"blur"}],password1:[{required:!0,message:U.t("common.please-input"),trigger:"blur"},{validator:(b,v,x)=>{(v.length<6||v.length>32)&&x("密码长度最小6位，最大32位"),/[A-Za-z0-9!@#$%^&*]{6,32}/.test(v)||x("密码由大小写字母、数字和特殊符号!@#$%^&*组成"),x()},trigger:"blur"}],password2:[{required:!0,message:U.t("common.please-input"),trigger:"blur"},{validator:(b,v,x)=>{o.value.password1!==v&&x("两次密码不一致"),x()},trigger:"blur"}]})),u=S(!1),{execute:m,loading:p}=ce(),g=()=>{u.value=!0,o.value={...r}},C=()=>{l.value&&l.value.validate().then(A)},A=()=>{m(o.value).then(()=>{u.value=!1,ne.success(U.t("common:layout.change-password.success")),ee(),a.push("/sign-in")})};return(b,v)=>{const x=n("el-input"),D=n("el-form-item"),se=n("el-button"),ae=n("el-form"),re=n("common-dialog");return c(),w(M,null,[h("span",{onClick:g},$(b.$t("common:layout.change-password")),1),e(re,{modelValue:u.value,"onUpdate:modelValue":v[3]||(v[3]=z=>u.value=z),title:b.$t("common:layout.change-password")},{default:s(()=>[e(ae,{ref_key:"dom",ref:l,model:o.value,rules:_.value,"label-width":"auto"},{default:s(()=>[e(D,{prop:"password",label:b.$t("common:layout.current-password")},{default:s(()=>[e(x,{modelValue:o.value.password,"onUpdate:modelValue":v[0]||(v[0]=z=>o.value.password=z),"show-password":"",placeholder:b.$t("common.please-input")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(D,{prop:"password1",label:b.$t("common:layout.new-password")},{default:s(()=>[e(x,{modelValue:o.value.password1,"onUpdate:modelValue":v[1]||(v[1]=z=>o.value.password1=z),"show-password":"",placeholder:b.$t("common.please-input")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(D,{prop:"password2",label:b.$t("common:layout.confirm-password")},{default:s(()=>[e(x,{modelValue:o.value.password2,"onUpdate:modelValue":v[2]||(v[2]=z=>o.value.password2=z),"show-password":"",placeholder:b.$t("common.please-input")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),h("div",Je,[e(se,{loading:t(p),type:"primary",onClick:C},{default:s(()=>[y($(b.$t("common.submit")),1)]),_:1},8,["loading"])])]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])],64)}}}),Xe={key:0,class:"placeholder"},Qe={key:1,class:"placeholder"},Ye=f({__name:"User",setup(i){const r=R(),a=Y(),{execute:l,loading:o}=te(),_=u=>{switch(u){case"sign-out":{l().then(()=>{ne.success(U.t("common:layout.sign-out-success")),ee(),r.push("/sign-in")});break}}};return(u,m)=>{const p=n("el-avatar"),g=n("el-dropdown-item"),C=n("el-dropdown-menu"),A=n("el-dropdown"),b=n("Loading"),v=n("el-icon");return t(o)?(c(),w("div",Qe,[e(v,{size:"20",class:"is-loading"},{default:s(()=>[e(b)]),_:1})])):(c(),d(A,{key:0,onCommand:_},{dropdown:s(()=>[e(C,null,{default:s(()=>[e(g,{command:"password",icon:"Lock"},{default:s(()=>[e(Ke)]),_:1}),e(g,{command:"sign-out",icon:"SwitchButton",divided:""},{default:s(()=>[y($(u.$t("common:layout.sign-out")),1)]),_:1})]),_:1})]),default:s(()=>[h("div",null,[t(a).user?(c(),w("div",Xe,[e(p,{icon:"Avatar",src:t(a).user.avatar??"",style:{"--el-avatar-size":"30px"},class:"mr-2"},null,8,["src"]),y(" "+$(t(a).user.username),1)])):L("",!0)])]),_:1}))}}}),eo={class:"flex"},oo=f({__name:"Index",setup(i){const{isMobile:r}=V();return(a,l)=>{const o=n("common-dark"),_=n("common-locale");return c(),w(M,null,[h("div",null,[e(Pe,{class:"item"})]),h("div",eo,[e(Ge,{class:"item"}),t(r)?L("",!0):(c(),d(o,{key:0,class:"item"})),t(r)?L("",!0):(c(),d(_,{key:1,class:"item"})),e(Ye,{class:"item"})])],64)}}}),to=G(oo,[["__scopeId","data-v-71ec9a8a"]]),P=["fade","fade-right","fade-up","fade-down"],K=S(P.includes(B("animate")??"")?B("animate"):P[0]),no=i=>{q("animate",i),K.value=i},lo=f({__name:"Breadcrumb",setup(i){const r=oe(),a=k(()=>r.matched.filter(l=>l.meta&&l.meta.breadcrumb&&l.path!=="/"));return(l,o)=>{const _=n("el-breadcrumb-item"),u=n("el-breadcrumb");return a.value.length?(c(),d(u,{key:0,"separator-icon":t(xe)},{default:s(()=>[e(_,{to:{path:"/"}},{default:s(()=>[y($(l.$t("common:menu.home")),1)]),_:1}),(c(!0),w(M,null,W(a.value,(m,p)=>(c(),d(_,{key:p},{default:s(()=>{var g,C;return[y($((g=m.meta)!=null&&g.i18n?l.$t(m.meta.i18n):(C=m.meta)==null?void 0:C.breadcrumb),1)]}),_:2},1024))),128))]),_:1},8,["separator-icon"])):L("",!0)}}}),so={class:"h-full flex flex-col"},ao={class:"grow overflow-hidden"},ro={class:"p-4 pt-0"},co=f({__name:"Index",setup(i){return(r,a)=>{const l=n("router-view"),o=n("el-scrollbar");return c(),w("div",so,[e(lo,{class:"p-4"}),h("div",ao,[e(o,null,{default:s(()=>[h("div",ro,[e(l,null,{default:s(({Component:_})=>[e(Me,{appear:"",mode:"out-in",name:t(K),"enter-active-class":"transition-all duration-500","leave-active-class":"transition-all duration-500"},{default:s(()=>[(c(),d(T(_)))]),_:2},1032,["name"])]),_:1})])]),_:1})])])}}}),io={class:"px-4 h-14 flex items-center justify-between"},_o=f({__name:"Index",setup(i){const r=R(),{execute:a,loading:l}=te(),o=()=>{},_=()=>{a().then(()=>{localStorage.clear(),j(!1),r.push("/sign-in").finally(()=>window.location.reload())})};return(u,m)=>{const p=n("el-button");return c(),w("div",io,[e(p,{type:"primary",round:"",icon:t($e),onClick:o},{default:s(()=>m[0]||(m[0]=[y(" 复制偏好设置 ")])),_:1},8,["icon"]),e(p,{loading:t(l),text:"",round:"",onClick:_},{default:s(()=>m[1]||(m[1]=[y(" 清空缓存 & 退出登录 ")])),_:1},8,["loading"])])}}}),uo={class:"px-4 h-14 flex items-center justify-between"},mo=f({__name:"Index",setup(i){return(r,a)=>{const l=n("el-text"),o=n("Close"),_=n("el-icon");return c(),w("div",uo,[e(l,{size:"large"},{default:s(()=>a[1]||(a[1]=[y("偏好设置")])),_:1}),e(_,{class:"cursor-pointer",onClick:a[0]||(a[0]=u=>t(j)(!1))},{default:s(()=>[e(o)]),_:1})])}}}),po=f({__name:"Animate",setup(i){return(r,a)=>{const l=n("el-card"),o=n("el-space"),_=n("el-form-item");return c(),d(_,{label:"页面动画","label-position":"top"},{default:s(()=>[e(o,{"fill-ratio":100,size:15,class:"w-full"},{default:s(()=>[(c(!0),w(M,null,W(t(P),u=>(c(),d(l,{key:u,shadow:"never",style:{"--el-card-padding":"10px","--el-card-bg-color":"unset"},class:Se(["cursor-pointer",{active:u===t(K)}]),onClick:m=>t(no)(u)},{default:s(()=>[h("div",{class:"w-12 h-12 rounded bg-[#f4f4f5] dark:bg-[#2e3033]",style:ze({animation:`${u} 3s infinite`})},null,4)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})}}}),fo=G(po,[["__scopeId","data-v-67f2acda"]]),vo=f({__name:"AsideWidth",setup(i){return(r,a)=>{const l=n("el-input-number"),o=n("el-form-item");return c(),d(o,{label:"边栏宽度"},{default:s(()=>[e(l,{min:t(le),max:t(Ae),"model-value":t(N),class:"!w-full",onChange:t(De)},null,8,["min","max","model-value","onChange"])]),_:1})}}}),ho={class:"w-full text-right"},go=f({__name:"Color",setup(i){return(r,a)=>{const l=n("el-color-picker"),o=n("el-form-item");return c(),d(o,{label:"主题颜色"},{default:s(()=>[h("div",ho,[e(l,{"model-value":t(ie),onChange:t(_e)},null,8,["model-value","onChange"])])]),_:1})}}}),wo={class:"flex items-center"},bo={class:"flex items-center"},xo=f({__name:"Dark",setup(i){return(r,a)=>{const l=n("el-icon"),o=n("el-option"),_=n("el-select"),u=n("el-form-item");return c(),d(u,{label:"暗黑模式"},{default:s(()=>{var m;return[e(_,{"model-value":(m=t(O))==null?void 0:m.code,onChange:t(ue)},{label:s(()=>{var p;return[h("div",bo,[e(l,{class:"mr-1"},{default:s(()=>{var g;return[(c(),d(T((g=t(O))==null?void 0:g.icon)))]}),_:1}),y(" "+$(r.$t(((p=t(O))==null?void 0:p.i18n)||"")),1)])]}),default:s(()=>[(c(!0),w(M,null,W(t(me),({code:p,i18n:g,icon:C})=>(c(),d(o,{key:p,value:p,onClick:t(de)},{default:s(()=>[h("div",wo,[e(l,{class:"mr-1"},{default:s(()=>[(c(),d(T(C)))]),_:2},1024),y(" "+$(r.$t(g||"")),1)])]),_:2},1032,["value","onClick"]))),128))]),_:1},8,["model-value","onChange"])]}),_:1})}}}),$o={class:"w-full text-right"},yo=f({__name:"Gray",setup(i){return(r,a)=>{const l=n("el-switch"),o=n("el-form-item");return c(),d(o,{label:"灰度模式"},{default:s(()=>[h("div",$o,[e(l,{"model-value":t(pe),onChange:t(fe)},null,8,["model-value","onChange"])])]),_:1})}}}),ko=f({__name:"Locale",setup(i){return(r,a)=>{const l=n("el-option"),o=n("el-select"),_=n("el-form-item");return t(X)?(c(),d(_,{key:0,label:"当前语言"},{default:s(()=>{var u;return[e(o,{"model-value":(u=t(Z))==null?void 0:u.code,onChange:t(ve)},{label:s(()=>{var m,p;return[y($((m=t(Z))==null?void 0:m.icon)+" "+$((p=t(Z))==null?void 0:p.name),1)]}),default:s(()=>[(c(!0),w(M,null,W(t(X),({code:m,name:p,icon:g})=>(c(),d(l,{key:m,value:m},{default:s(()=>[y($(g)+" "+$(p),1)]),_:2},1032,["value"]))),128))]),_:1},8,["model-value","onChange"])]}),_:1})):L("",!0)}}}),Co={class:"w-full text-right"},Vo=f({__name:"Weak",setup(i){return(r,a)=>{const l=n("el-switch"),o=n("el-form-item");return c(),d(o,{label:"色弱模式"},{default:s(()=>[h("div",Co,[e(l,{"model-value":t(he),onChange:t(ge)},null,8,["model-value","onChange"])])]),_:1})}}}),Mo=f({__name:"Index",setup(i){return(r,a)=>{const l=n("el-form");return c(),d(l,{"label-width":"auto","label-position":"left"},{default:s(()=>[e(ko),e(xo),e(vo),e(fo),e(go),e(Vo),e(yo)]),_:1})}}}),So={class:"flex flex-col h-screen"},zo={class:"grow"},Lo={class:"px-4"},Io=f({__name:"Index",setup(i){const{isMobile:r}=V(),a=k(()=>r.value?"90%":"358px");return(l,o)=>{const _=n("ElDivider"),u=n("el-scrollbar"),m=n("el-drawer");return c(),d(m,{"model-value":t(H),"with-header":!1,direction:"rtl",size:a.value,"destroy-on-close":"",style:{"--el-drawer-padding-primary":"0"},onOpen:o[0]||(o[0]=p=>t(j)(!0)),onClose:o[1]||(o[1]=p=>t(j)(!1))},{default:s(()=>[h("div",So,[e(mo),e(_,{class:"!mt-0"}),h("div",zo,[e(u,null,{default:s(()=>[h("div",Lo,[e(Mo)])]),_:1})]),e(_,{class:"!mb-0"}),e(_o)])]),_:1},8,["model-value","size"])}}}),at=f({__name:"Index",setup(i){const{isMobile:r}=V(),a=k(()=>r.value||!F.value?"0px":I.value?"64px":N.value+"px");return(l,o)=>{const _=n("el-aside"),u=n("el-header"),m=n("ElDivider"),p=n("el-main"),g=n("el-container");return c(),w(M,null,[e(g,{class:"w-screen h-screen"},{default:s(()=>[e(_,{width:a.value,class:"!overflow-hidden transition-all duration-300"},{default:s(()=>[e(He)]),_:1},8,["width"]),e(g,null,{default:s(()=>[e(u,{height:"56px",style:{"--el-header-padding":"0"},class:"flex items-center justify-between page-container"},{default:s(()=>[e(to)]),_:1}),e(m,{class:"!my-0"}),e(p,{style:{"--el-main-padding":"0"},class:"page-bg"},{default:s(()=>[e(co)]),_:1})]),_:1})]),_:1}),e(Io)],64)}}});export{at as default};
